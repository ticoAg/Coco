åŸºäº GitHub Issue [openai/codex #2604](https://github.com/openai/codex/issues/2604) çš„è®¨è®ºå†…å®¹ï¼Œç»“åˆéœ€æ±‚ï¼ˆå¹¶å‘ Debugã€æ¶æ„å¸ˆæŠŠæ§å…¨æ ˆå¼€å‘ã€Silent/Wake æœºåˆ¶ã€Context å…±äº«ç­‰ï¼‰ï¼Œå¯ä»¥æ„æƒ³ä¸€å¥—åä¸º **"Agent Orchestration & Swarm Protocol" (ä»£ç†ç¼–æ’ä¸èœ‚ç¾¤åè®®)** çš„ Subagent ç‰¹æ€§é›†

è¿™å¥—ç‰¹æ€§æ—¨åœ¨è§£å†³å•ä¸€ Agent ä¸Šä¸‹æ–‡è¿‡è½½å’Œèƒ½åŠ›æ³›åŒ–çš„é—®é¢˜ï¼Œé€šè¿‡**ä¸“ä¸šåŒ–åˆ†å·¥**å’Œ**æœ‰åºåä½œ**æ¥æå‡å¤æ‚ä»»åŠ¡çš„æ•ˆç‡ã€‚

ä»¥ä¸‹æ˜¯é’ˆå¯¹æ‚¨æè¿°åœºæ™¯çš„è¯¦ç»† Feature Proposalï¼ˆç‰¹æ€§ææ¡ˆï¼‰ï¼š

### 1. æ ¸å¿ƒæ¶æ„ï¼šå¤šæ‹“æ‰‘åä½œæ¨¡å¼ (Multi-Topology Collaboration)

ä¸åŒçš„ä»»åŠ¡éœ€è¦ä¸åŒçš„ç»„ç»‡å½¢å¼ï¼Œç³»ç»Ÿåº”æ”¯æŒåŠ¨æ€åˆ‡æ¢ä»¥ä¸‹ä¸¤ç§æ¨¡å¼ï¼š

#### A. èœ‚ç¾¤æ¨¡å¼ (Swarm Mode) - é€‚ç”¨äºå¹¶å‘ Debug / ä¿¡æ¯æœé›†

- **åœºæ™¯æè¿°**ï¼šé¢å¯¹å¤æ‚çš„æŠ¥é”™ï¼Œéœ€è¦åŒæ—¶æ£€æŸ¥æ•°æ®åº“æ—¥å¿—ã€API å“åº”ã€å‰ç«¯ Console å’Œäº‘ç«¯ç›‘æ§ã€‚
- **åä½œé€»è¾‘**ï¼š
  - **é˜µå®¹è®¾è®¡ (Roster Design)**ï¼šLead / Orchestrator å¯ä»¥æ ¹æ®å½“å‰ä»»åŠ¡è‡ªè¡Œè®¾è®¡éœ€è¦å“ªäº› Subagentsï¼ˆæ•°é‡ã€åç§°ã€èŒè´£ã€æƒé™ã€å¯è§èŒƒå›´ï¼‰ï¼Œè€Œä¸æ˜¯è¢«å›ºå®šä¸ºåªèƒ½è°ƒç”¨é¢„ç½® agentã€‚
  - **Agent å®šä¹‰ç”Ÿæˆ (Agent Spec Generation)**ï¼šç³»ç»Ÿä¸ºæ¯ä¸ª Subagent ç”Ÿæˆä¸€ä»½å¯å¤ç”¨çš„ `agents.md`ï¼ˆä¾‹å¦‚ `agents/db/agents.md`ï¼‰ï¼Œä½œä¸ºè¯¥ agent çš„â€œè¯´æ˜ä¹¦/è¿è¡Œå¥‘çº¦â€ï¼ˆRoleã€Inputs/Outputsã€Permissionsã€Scopeã€Triggers ç­‰ï¼‰ã€‚
    - åŒæ—¶ç³»ç»Ÿé¢„ç½®ä¸€äº›å¸¸ç”¨ agent çš„ `agents.md` æ¨¡æ¿ï¼Œä¾¿äºç›´æ¥å¤ç”¨æˆ–è½»å¾®æ”¹é€ ã€‚
  - **å¹¿æ’­è§¦å‘ (Broadcast Trigger)**ï¼šä¸» Agent å‘å¸ƒä¸€ä¸ªâ€œè¯Šæ–­ä»»åŠ¡â€ï¼Œå¹¶è¡Œæ´¾å‘ç»™ DB Agent, Network Agent, Log Agentã€‚
  - **å¹¶è¡Œæ‰§è¡Œ (Parallel Execution)**ï¼šæ‰€æœ‰ Subagents åŒæ—¶å·¥ä½œï¼Œäº’ä¸é˜»å¡ã€‚
  - **ç»“æœèšåˆ (Result Aggregation)**ï¼šSubagents å®Œæˆåä¸è¿›è¡Œé•¿ç¯‡å¤§è®ºï¼Œè€Œæ˜¯è¿”å›ç»“æ„åŒ–çš„ `DiagnosticReport`ã€‚ä¸» Agent æ”¶åˆ°æ‰€æœ‰æŠ¥å‘Šåè¿›è¡Œç»¼åˆåˆ†æã€‚
- **Key Feature**: `fork_join` æœºåˆ¶ã€‚å…è®¸ä¸»ä»»åŠ¡åˆ†è£‚ï¼ˆForkï¼‰å‡ºå¤šä¸ªå­ä»»åŠ¡ï¼Œç­‰å¾…æ‰€æœ‰å­ä»»åŠ¡å®Œæˆï¼ˆJoinï¼‰åå†ç»§ç»­ã€‚

#### B. é˜¶å±‚/å°é˜Ÿæ¨¡å¼ (Hierarchical Squad Mode) - é€‚ç”¨äºå…¨æ ˆå¼€å‘

- **åœºæ™¯æè¿°**ï¼šæ¶æ„å¸ˆæŠŠæ§èŠ‚å¥ï¼Œå‰ç«¯å’Œåç«¯ Agent ååŒå¼€å‘ã€‚
- **è§’è‰²å®šä¹‰**ï¼š
  - **Architect (Leader)**ï¼šæŒæœ‰å…¨å±€éœ€æ±‚æ–‡æ¡£ï¼Œè´Ÿè´£æ‹†åˆ†ä»»åŠ¡ï¼ŒReview ä»£ç ï¼Œä¸ç›´æ¥å†™å…·ä½“ä¸šåŠ¡é€»è¾‘ã€‚
  - **Frontend & Backend (Workers)**ï¼šä¸“æ³¨äºç‰¹å®šæŠ€æœ¯æ ˆï¼ˆå¦‚ React/Next.js æˆ– Go/Pythonï¼‰ã€‚
- **åä½œé€»è¾‘**ï¼š
  - **ç±»ä¼¼â€œèŠå¤©å®¤â€çš„äº¤äº’**ï¼šFrontend Agent åœ¨å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°æ¥å£ä¸æ˜ï¼Œå¯ä»¥ç›´æ¥ `@Backend` æé—®ï¼šâ€œ_/api/user/profile è¿”å›çš„å­—æ®µå®šä¹‰æ˜¯ä»€ä¹ˆï¼Ÿ_â€
  - **èŠ‚å¥æ§åˆ¶**ï¼šArchitect è®¾ç½®é‡Œç¨‹ç¢‘ï¼ˆMilestoneï¼‰ã€‚åªæœ‰å½“å‰é‡Œç¨‹ç¢‘ä¸‹çš„ Frontend/Backend ä»»åŠ¡éƒ½æ ‡è®°ä¸º `Resolved`ï¼Œæ‰è§£é”ä¸‹ä¸€é˜¶æ®µã€‚

---

### 2. äº¤äº’ä¸æµè½¬æ§åˆ¶ (Interaction & Flow Control)

ä¸ºäº†å®ç°æ‚¨æåˆ°çš„â€œæ²‰é»˜â€ã€â€œå”¤é†’â€å’Œâ€œæµè½¬â€ï¼Œéœ€è¦ä»¥ä¸‹çŠ¶æ€æœºç‰¹æ€§ï¼š

#### A. çŠ¶æ€ç®¡ç† (Agent Lifecycle States)

- **Active (æ´»è·ƒ)**ï¼šæ­£åœ¨æ‰§è¡Œä»»åŠ¡æˆ–å‚ä¸å¯¹è¯ã€‚
- **Awaiting (å¾…å‘½/æ²‰é»˜)**ï¼šä»»åŠ¡å·²å®Œæˆï¼Œä¿æŒä¸Šä¸‹æ–‡ä½†**ä¸æ¶ˆè€— Token**ï¼Œç›´åˆ°è¢«æ˜¾å¼å”¤é†’ã€‚
- **Dormant (ä¼‘çœ )**ï¼šä¸Šä¸‹æ–‡è¢«åºåˆ—åŒ–å­˜å‚¨ï¼Œé‡Šæ”¾å†…å­˜ï¼Œéœ€è¦é‡æ–°åŠ è½½æ‰èƒ½å·¥ä½œã€‚

#### B. è§¦å‘å™¨ä¸é’©å­ (Triggers & Hooks)

- **Mention Trigger (`@AgentName`)**ï¼š
  - æ ‡å‡†å”¤é†’æœºåˆ¶ã€‚ä¾‹å¦‚ Frontend å®Œæˆäº† UIï¼Œç›´æ¥ `@Architect`ï¼šâ€œ_ç•Œé¢å·²å®Œæˆï¼Œè¯· Reviewã€‚_â€ æ­¤æ—¶ Architect ä» Awaiting è½¬ä¸º Activeã€‚
- **Completion Hook (å®Œæˆé’©å­)**ï¼š
  - **Auto-Silence**: Agent å®Œæˆä»»åŠ¡åè‡ªåŠ¨è¿›å…¥ `Awaiting` çŠ¶æ€ï¼Œå‡å°‘å™ªéŸ³ã€‚
  - **Auto-Forward**: å®šä¹‰ä»»åŠ¡é“¾ã€‚ä¾‹å¦‚ï¼šBackend Agent å®Œæˆ API å¼€å‘ -> **Trigger** -> QA Agent (ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹) -> **Trigger** -> Architect (éªŒæ”¶)ã€‚
- **Event Listeners**:
  - ç›‘å¬ç‰¹å®šæ–‡ä»¶å˜æ›´ï¼ˆå¦‚ `schema.graphql` å˜æ›´è‡ªåŠ¨å”¤é†’ Backend Agent æ›´æ–° Resolverï¼‰ã€‚

---

### 3. ä¸Šä¸‹æ–‡ä¸æ˜¾å¼å…±äº« (Context Isolation & Explicit Sharing)

Issue #2604 ä¸­åå¤æåˆ° Context Window æ˜¯ç“¶é¢ˆã€‚æˆ‘ä»¬éœ€è¦**æŒ‰éœ€å…±äº«**ï¼Œè€Œä¸æ˜¯å…¨é‡å…±äº«ã€‚

- **Context Scoping (ä¸Šä¸‹æ–‡ä½œç”¨åŸŸ)**ï¼š
  - **Global Context**: é¡¹ç›®æ ¹ç›®å½•ç»“æ„ã€æŠ€æœ¯é€‰å‹æ–‡æ¡£ï¼ˆæ‰€æœ‰ Agent å¯è§ï¼‰ã€‚
  - **Task Context**: å½“å‰ä»»åŠ¡çš„å…·ä½“éœ€æ±‚ï¼ˆä»…ç›¸å…³ Agent å¯è§ï¼‰ã€‚
  - **Private Context**: Agent è‡ªå·±çš„æ€ç»´é“¾ï¼ˆCoTï¼‰ã€ä¸´æ—¶å˜é‡ï¼ˆå¯¹å¤–ä¸å¯è§ï¼Œé¿å…æ±¡æŸ“ï¼‰ã€‚
- **Explicit Sharing (æ˜¾å¼å…±äº«åè®®)**ï¼š
  - å½“ Frontend Agent `@Backend` æ—¶ï¼Œç³»ç»Ÿä¸åº”æŠŠ Frontend æ‰€æœ‰çš„ UI ä»£ç å‘ç»™ Backendï¼Œè€Œæ˜¯å…è®¸ Frontend é€‰æ‹©æ€§ Attach æ–‡ä»¶æˆ–ä»£ç ç‰‡æ®µï¼š
    > "Hey @Backend, I need data for this component. [Attachment: `UserProfile.tsx`]"
  - **API å¥‘çº¦å…±äº«**ï¼šç³»ç»Ÿè‡ªåŠ¨ç»´æŠ¤ä¸€ä¸ªå…±äº«çš„ `interface/contract` åŒºåŸŸï¼Œå‰ç«¯åç«¯éƒ½èƒ½å®æ—¶è¯»å–æœ€æ–°çš„æ¥å£å®šä¹‰ï¼Œè€Œæ— éœ€äº’ç›¸è¯¢é—®ç»†èŠ‚ã€‚

---

### 3.1 ä»»åŠ¡ç›®å½• (Task Directory) â€”â€” ä¸€ç§å†…éƒ¨æœºåˆ¶

â€œContext Sharingâ€æ˜¯ AgentMesh çš„å†…éƒ¨å·¥ä½œæœºåˆ¶ä¹‹ä¸€ï¼šä¸€æ¬¡å®Œæ•´çš„ `User` - `Agents` äº¤äº’åº”è¢«å»ºæ¨¡ä¸ºä¸€ä¸ª `Task`ï¼ˆä»»åŠ¡ï¼‰ï¼Œå¹¶è½ç›˜ä¸ºä¸€ä¸ªå¯æŒä¹…åŒ–çš„ä»»åŠ¡ç›®å½•ï¼›ä»»åŠ¡å†…æ¯ä¸ªåˆ›å»ºå‡ºçš„ subagent ä»ç„¶å¯ä»¥æ‹¥æœ‰è‡ªå·±ç‹¬ç«‹çš„äº§å‡ºå­ç›®å½•ï¼Œç”¨äºæ²‰æ·€å¯åˆ†äº«çš„æ¢ç´¢è¿‡ç¨‹ä¸ç»“æœã€‚ç³»ç»Ÿé€šè¿‡â€œæ˜¾å¼é™„åŠ  (explicit attach)â€æŠŠå…¶ä¸­å¿…è¦å†…å®¹å…±äº«ç»™å…¶ä»– agent / Leadï¼Œé¿å…å…¨é‡ä¸Šä¸‹æ–‡å¹¿æ’­ã€‚

- **Task Directory**ï¼šæ¯æ¬¡ä»»åŠ¡äº¤äº’å¯¹åº”ä¸€ä¸ªç›®å½•ï¼Œä¾‹å¦‚ï¼š
  - `tasks/<task_id>/README.md`ï¼ˆå¿…éœ€ï¼‰ï¼šä»»åŠ¡å…¥å£ï¼ˆç›®æ ‡ã€çŠ¶æ€ã€é‡Œç¨‹ç¢‘ã€å…³é”®é“¾æ¥ï¼‰
  - `tasks/<task_id>/shared/**`ï¼šä»»åŠ¡çº§å…±äº«èµ„äº§ï¼ˆå¥‘çº¦ã€å†³ç­–ã€æ±‡æ€»æŠ¥å‘Šç­‰ï¼‰
  - `tasks/<task_id>/agents/<agent_instance>/README.md`ï¼ˆæ¨èï¼‰ï¼šè¯¥ subagent åœ¨æœ¬ä»»åŠ¡å†…çš„äº§å‡ºç´¢å¼•ï¼ˆæ‘˜è¦ã€é“¾æ¥ï¼‰
  - `tasks/<task_id>/agents/<agent_instance>/**/*.md`ï¼šæ¢ç´¢ç¬”è®°ã€å†³ç­–è®°å½•ã€æ’æŸ¥æ—¥å¿—ã€æ¥å£å¥‘çº¦ç­‰ï¼ˆå¯é€‰ï¼Œä½†æ¨èï¼‰

åŒæ—¶ï¼Œagent çš„â€œè¡Œä¸ºå®šä¹‰/è¯´æ˜ä¹¦â€åº”ç‹¬ç«‹å­˜æ”¾ä¸ºå¯å¤ç”¨æ¨¡æ¿ï¼š

- **Agent Spec (`agents.md`)**ï¼šç³»ç»Ÿä¸ºæ¯ä¸ª agent ç”Ÿæˆä¸€ä»½å¯å¤ç”¨çš„ `agents.md`ï¼ˆä¾‹å¦‚ `agents/db/agents.md`ï¼‰ï¼ŒæŒ‡å¯¼ subagent çš„è¡Œä¸ºï¼ˆRoleã€Inputs/Outputsã€Permissionsã€Scopeã€Triggers ç­‰ï¼‰ã€‚
  - é¢„ç½®æ¨¡æ¿ï¼šæ¡†æ¶å¯å†…ç½®å¸¸ç”¨ `agents.md`ï¼Œä¾› Lead ç›´æ¥é€‰ç”¨æˆ–å¾®è°ƒã€‚
- **å†…å®¹æ ¼å¼**ï¼šä»»åŠ¡ç›®å½•å†…çš„å¯åˆ†äº«å†…å®¹ç»Ÿä¸€ä½¿ç”¨ Markdownã€‚
- **æ–‡ä»¶å…ƒæ•°æ®ï¼ˆå¼ºåˆ¶ï¼‰**ï¼šä»»åŠ¡ç›®å½•å†…æ‰€æœ‰å¯åˆ†äº«æ–‡ä»¶å¿…é¡»å¸¦å…ƒæ•°æ®ï¼Œç”¨äºè¢«ç³»ç»Ÿæ£€ç´¢ã€å¼•ç”¨ã€é™„åŠ ä¸è¿½è¸ªã€‚å»ºè®®ä½¿ç”¨ YAML Front Matterï¼š

```yaml
---
title: 'DB Error Triage Notes'
purpose: 'Collect DB-side evidence and hypotheses for incident #123'
tags: ['debug', 'postgres', 'incident']
filepath: ./AgentMesh.md
---
```

- **æ˜¾å¼é™„åŠ  (Explicit Attach)**ï¼šAgent åœ¨ @ å…¶ä»– agent æˆ–å‘ Lead æ±‡æŠ¥æ—¶ï¼Œä¸ç›´æ¥â€œå€¾å€’ä¸Šä¸‹æ–‡â€ï¼Œè€Œæ˜¯é€‰æ‹©æ€§é™„åŠ ä»»åŠ¡ç›®å½•ä¸­çš„å…·ä½“æ–‡ä»¶ï¼ˆæˆ–æ–‡ä»¶ç‰‡æ®µï¼‰ã€‚
- **å¯è¿½è¸ªæ€§**ï¼šå½“æŸä»½ä»»åŠ¡äº§å‡ºè¢«é™„åŠ åˆ°ä»»åŠ¡ä¸Šä¸‹æ–‡æ—¶ï¼Œç³»ç»Ÿè®°å½•æ¥æºï¼ˆtask_idã€agentã€æ–‡ä»¶ã€æ—¶é—´ï¼‰ï¼Œä¾¿äºå›æº¯ã€‚

### 3.2 Agent Skills â€”â€” å¯å¤ç”¨çš„èƒ½åŠ›åŒ…ï¼ˆæŒ‰å›ºå®šå®šä¹‰ï¼Œä¸æ‰©å±•ï¼‰

AgentMesh æŠŠ Skills è§†ä¸ºå„å®¶ agent å¯å…±äº«çš„ä¸€ç§â€œèƒ½åŠ›å°è£…å½¢å¼â€ï¼ˆæŒ‡ä»¤ã€è„šæœ¬ã€èµ„æºï¼‰ã€‚Skills çš„å®šä¹‰ä»¥ [[skills/README.md]](docs/references/skills/README.md) ä¸ºå‡†ï¼›ä¸åŒäº§å“ï¼ˆä¾‹å¦‚ codexï¼‰å¦‚ä½•åŠ è½½/å‘ˆç° Skills å±äºå…¶è¿è¡Œæ—¶å®ç°ç»†èŠ‚ï¼ˆå¯å‚è€ƒ [[openai-codex/skills.md]](docs/references/openai-codex/skills.md)ï¼‰ï¼Œä¸åº”åå‘æˆä¸º AgentMesh çš„ Skills è§„èŒƒæ‰©å±•ã€‚

- **Skill æ˜¯ä»€ä¹ˆ**ï¼šä¸€ä¸ªè‡ªåŒ…å«æ–‡ä»¶å¤¹ï¼Œå…¶ä¸­åŒ…å« `SKILL.md`ï¼ˆYAML frontmatter + æŒ‡ä»¤æ­£æ–‡ï¼‰ï¼Œå¹¶å¯é™„å¸¦è„šæœ¬ä¸èµ„æºæ–‡ä»¶ã€‚
- **`SKILL.md` çš„å…³é”®å­—æ®µ**ï¼š`name` ä¸ `description`ï¼ˆå…¶ä»–æ›´ä¸¥æ ¼çš„æ ¡éªŒè§„åˆ™ç”±å„è¿è¡Œæ—¶è‡ªè¡Œå†³å®šï¼‰ã€‚
- **å¦‚ä½•ä½¿ç”¨**ï¼šç»™æ¯ä¸ª agent é¢„è£…ä¸åŒçš„ skill setsï¼Œä»¥å¢å¼ºç‰¹å®šä»»åŠ¡é¢†åŸŸèƒ½åŠ›ï¼›ç”±å¯¹åº”è¿è¡Œæ—¶/adapter å†³å®šå¦‚ä½•å¯ç”¨ï¼ˆæ’ä»¶/ç›®å½•çº¦å®š/å¯åŠ¨å‚æ•°/prompt æŒ‡å¼•ç­‰ï¼‰ã€‚
- **å»ºè®®çš„å½’æ¡£æ–¹å¼ï¼ˆæŒ‰ agentï¼‰**ï¼š`agents/<agent_name>/skills/<skill_name>/SKILL.md`ï¼ˆä¸€ä¸ª skill ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼‰ã€‚

**åˆ›å»º skillï¼ˆç¤ºä¾‹ï¼‰**ï¼š

```md
---
name: api-contract-review
description: Review API contracts for consistency, error models, and versioning; use before frontend integration.
---

# API Contract Review

- Check request/response schemas and error codes.
- Ensure pagination/auth fields are consistent.
```

### 4. å…·ä½“çš„ UI/UX è¡¨ç°å½¢å¼ (ä»¥èŠå¤©å®¤ä¸ºä¾‹)

ç•Œé¢ä¸Šä¸åº”åªæ˜¯å•ä¸€çš„å¯¹è¯æµï¼Œè€Œåº”æ¼”è¿›ä¸º **"Mission Control Center"**ï¼š

- **ä¸»é¢‘é“ (Main Channel)**ï¼šç”¨æˆ·ä¸ Architect çš„å¯¹è¯ï¼Œå‘å¸ƒæ€»ä½“æŒ‡ä»¤ã€‚
- **ä¾§è¾¹æ /å­é¢‘é“ (Side Threads)**ï¼š
  - Subagents ä¹‹é—´çš„åä½œç»†èŠ‚ï¼ˆå¦‚å‰ç«¯å’Œåç«¯çš„äº‰è®ºï¼‰æŠ˜å åœ¨å­é¢‘é“ä¸­ï¼Œä¸å¹²æ‰°ä¸»è§†å›¾ã€‚
  - ç”¨æˆ·å¯ä»¥ç‚¹å‡»å±•å¼€æŸ¥çœ‹è¯¦æƒ…ï¼Œæˆ–è€…åªçœ‹ Architect ç»™å‡ºçš„æœ€ç»ˆæ‘˜è¦ã€‚
- **çŠ¶æ€é¢æ¿ (Team Status)**ï¼š
  - æ˜¾ç¤ºå½“å‰æ´»è·ƒçš„ Agent åˆ—è¡¨ã€‚
  - ç¤ºä¾‹ï¼š
    - ğŸ¤– **Architect**: _Reviewing PR..._
    - ğŸ¨ **Frontend**: _Awaiting Backend response_ (Blocked)
    - âš™ï¸ **Backend**: _Coding `user_service.py`_ (Working)

### æ€»ç»“ï¼šæˆ‘ä»¬éœ€è¦ä»€ä¹ˆæ ·çš„ Subagent Featureï¼Ÿ

åŸºäº Issue å’Œæ‚¨çš„æ„æƒ³ï¼Œè¿™ä¸ª Feature Set å¯ä»¥æ¦‚æ‹¬ä¸ºï¼š

1.  **å¯å®šä¹‰è§’è‰²çš„ Agent å·¥å‚**ï¼šå…è®¸ç”¨æˆ·é€šè¿‡ Prompt é¢„è®¾ Agent çš„èŒè´£ï¼ˆRoleï¼‰ã€æƒé™ï¼ˆPermissionsï¼‰å’Œå¯è§èŒƒå›´ï¼ˆScopeï¼‰ã€‚
2.  **äº‹ä»¶é©±åŠ¨çš„ç¼–æ’å¼•æ“**ï¼šæ”¯æŒ `onTaskComplete`, `waitFor(@Agent)`, `runParallel` ç­‰åŸè¯­ï¼Œå®ç°å¤æ‚çš„ä»»åŠ¡æµè½¬ã€‚
3.  **ç»“æ„åŒ–é€šä¿¡åè®®**ï¼šAgent ä¹‹é—´ä¸ä»…ä¼ è¾“è‡ªç„¶è¯­è¨€ï¼Œè¿˜ä¼ è¾“ç»“æ„åŒ–æ•°æ®ï¼ˆä»£ç å—ã€æ–‡ä»¶å¼•ç”¨ã€çŠ¶æ€ç ï¼‰ï¼Œå¹¶æ”¯æŒæ˜¾å¼çš„ä¸Šä¸‹æ–‡å‰ªè£ã€‚
4.  **ä»»åŠ¡ç›®å½•æœºåˆ¶ï¼ˆæ²‰æ·€ä¸å…±äº«ï¼‰**ï¼šæ¯ä¸ªä»»åŠ¡è½ç›˜ä¸ºå¯æŒä¹…åŒ–çš„ä»»åŠ¡ç›®å½•ï¼Œsubagent äº§å‡ºæŒ‰ `agent_instance` å½’æ¡£ï¼›æ‰€æœ‰å¯åˆ†äº«æ–‡ä»¶ä½¿ç”¨ Markdown + å…ƒæ•°æ®ï¼Œä½œä¸ºå¯æ£€ç´¢çš„åä½œèµ„äº§åº“ã€‚

è¿™ç§è®¾è®¡å°†æŠŠ Coding Agent ä»å•ä¸€çš„â€œç»“å¯¹ç¼–ç¨‹ä¼™ä¼´â€å‡çº§ä¸ºä¸€æ”¯å®Œæ•´çš„â€œè™šæ‹Ÿè½¯ä»¶å¼€å‘å›¢é˜Ÿâ€ã€‚
